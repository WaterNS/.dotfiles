#!/bin/bash

# Disable bash history, and clear it
set +o history
unset HISTFILE
history -c
rm -f "$HOME/.bash_history" 2> /dev/null
rm -rf "$HOME/.bash_sessions" 2> /dev/null

# Disable less history and delete it
export LESSHISTFILE=/dev/null
rm -f "$HOME/.lesshst" 2> /dev/null

# Remove .rnd (seed generated by OpenSSL/PGP)
rm -f "$HOME/.rnd" 2> /dev/null

# Remove vim history
rm -f "$HOME/.viminfo" 2> /dev/null
rm -f "$HOME/.vim/.netrwhist" 2> /dev/null

# Show Full Path in Bash Prompt
#export PS1='\u@\h \W \$ '
#PS1="\[\033[38m\]\u@\h\[\033[32m\] \w \[\033[31m\]\$(prompt_git)\[\033[37m\]$\[\033[00m\] "

# Set ls behavior
if [[ $OSTYPE == darwin* ]]; then
	alias ls='/bin/ls -alhG'
else
	alias ls='/bin/ls -alh --color'
fi

# Source bash-powerline
source ~/.dotfiles/bash-powerline.sh
#echo $PS1
export PS1="\u\h $(echo $PS1)"
#echo $PS1

# alias common git commands to shorthand
if [ -x "$(command -v git)" ]; then
	alias status='git status'
	alias push='git push'
fi

# add vim alias to v, run vim with viminfo disabled
if [ -x "$(command -v vim)" ]; then
	alias v='vim'
	alias vim='vim -i NONE'
fi

# youtube-dl shorthand function that does auto retry
if [ -x "$(command -v youtube-dl)" ]; then
	ytdl () { while ! youtube-dl "$1" -c --socket-timeout 5; do echo DISCONNECTED; sleep 5; done; }
fi

